--- libwebsockets-4.3.3/CMakeLists.txt.orig	2023-11-20 07:27:02.000000000 +0100
+++ libwebsockets-4.3.3/CMakeLists.txt	2024-09-19 19:00:43.037975740 +0200
@@ -370,37 +370,6 @@ endmacro()
 # Try to find the current Git hash
 #
 
-find_package(Git)
-if(GIT_EXECUTABLE)
-	execute_process(
-		WORKING_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}"
-		COMMAND "${GIT_EXECUTABLE}" describe --tags --always
-		OUTPUT_VARIABLE GIT_HASH
-		OUTPUT_STRIP_TRAILING_WHITESPACE
-		)
-	set(LWS_BUILD_HASH ${GIT_HASH})
-
-	# append the build user and hostname
-	if (NOT LWS_REPRODUCIBLE)
-		execute_process(
-			WORKING_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}"
-			COMMAND "whoami"
-			OUTPUT_VARIABLE GIT_USER
-			OUTPUT_STRIP_TRAILING_WHITESPACE
-			)
-		execute_process(
-			WORKING_DIRECTORY "${CMAKE_CURRENT_SOURCE_DIR}"
-			COMMAND "hostname"
-			OUTPUT_VARIABLE GIT_HOST
-			OUTPUT_STRIP_TRAILING_WHITESPACE
-			)
-		string(REGEX REPLACE "([^\\])[\\]([^\\])" "\\1\\\\\\\\\\2" GIT_USER ${GIT_USER})
-		set(LWS_BUILD_HASH ${GIT_USER}@${GIT_HOST}-${GIT_HASH})
-	endif()
-
-	message("Git commit hash: ${LWS_BUILD_HASH}")
-endif()
-
 if ("${LWS_BUILD_HASH}" STREQUAL "")
 	set(LWS_BUILD_HASH "unknown")
 endif()
@@ -412,7 +381,7 @@ set(CPACK_PACKAGE_VERSION_MAJOR "4")
 set(CPACK_PACKAGE_VERSION_MINOR "3")
 set(CPACK_PACKAGE_VERSION_PATCH_NUMBER "3")
 
-set(CPACK_PACKAGE_VERSION_PATCH "${CPACK_PACKAGE_VERSION_PATCH_NUMBER}-${LWS_BUILD_HASH}")
+set(CPACK_PACKAGE_VERSION_PATCH "${CPACK_PACKAGE_VERSION_PATCH_NUMBER}")
 set(CPACK_PACKAGE_RELEASE 1)
 
 set(CPACK_PACKAGE_VERSION "${CPACK_PACKAGE_VERSION_MAJOR}.${CPACK_PACKAGE_VERSION_MINOR}.${CPACK_PACKAGE_VERSION_PATCH}")
